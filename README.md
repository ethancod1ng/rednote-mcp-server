# RedNote MCP Server

ä¸€ä¸ªåŸºäº Model Context Protocol (MCP) çš„å°çº¢ä¹¦å¹³å°é›†æˆæœåŠ¡å™¨ï¼Œä¸º AI åŠ©æ‰‹æä¾›è®¿é—®å°çº¢ä¹¦å†…å®¹å’ŒåŠŸèƒ½çš„èƒ½åŠ›ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å†…å®¹æœç´¢**: æ”¯æŒå…³é”®è¯æœç´¢å°çº¢ä¹¦ç¬”è®°
- ğŸ“ **ç¬”è®°è·å–**: è·å–ç¬”è®°è¯¦æƒ…å’Œç”¨æˆ·å†…å®¹
- ğŸ‘¥ **ç”¨æˆ·ä¿¡æ¯**: æŸ¥è¯¢ç”¨æˆ·èµ„æ–™å’Œç»Ÿè®¡æ•°æ®
- ğŸ“ˆ **è¶‹åŠ¿åˆ†æ**: è·å–çƒ­é—¨è¯é¢˜å’Œå†…å®¹è¶‹åŠ¿
- ğŸ¤– **å†…å®¹åˆ†æ**: æä¾›æƒ…æ„Ÿåˆ†æã€å…³é”®è¯æå–ç­‰åŠŸèƒ½

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### æ„å»ºé¡¹ç›®

```bash
npm run build
```

### å¯åŠ¨æœåŠ¡å™¨

```bash
npm start
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

## å¯ç”¨å·¥å…·

### æœç´¢å·¥å…·

#### `rednote_search_notes`
æœç´¢å°çº¢ä¹¦ç¬”è®°

**å‚æ•°:**
- `keyword` (required): æœç´¢å…³é”®è¯
- `type` (optional): å†…å®¹ç±»å‹ (`note`, `video`, `all`)
- `sort` (optional): æ’åºæ–¹å¼ (`latest`, `popular`, `relevant`)
- `limit` (optional): è¿”å›æ•°é‡é™åˆ¶ (1-100)

**ç¤ºä¾‹:**
```json
{
  "keyword": "ç¾é£Ÿ",
  "type": "note",
  "sort": "popular",
  "limit": 20
}
```

### å†…å®¹å·¥å…·

#### `rednote_get_note`
è·å–ç¬”è®°è¯¦æƒ…

**å‚æ•°:**
- `note_id` (required): ç¬”è®°ID
- `include_comments` (optional): æ˜¯å¦åŒ…å«è¯„è®º

#### `rednote_get_user_notes`
è·å–ç”¨æˆ·ç¬”è®°

**å‚æ•°:**
- `user_id` (required): ç”¨æˆ·ID
- `limit` (optional): æ•°é‡é™åˆ¶
- `cursor` (optional): åˆ†é¡µæ¸¸æ ‡

#### `rednote_get_trending_topics`
è·å–çƒ­é—¨è¯é¢˜

**å‚æ•°:**
- `category` (optional): åˆ†ç±»
- `limit` (optional): æ•°é‡é™åˆ¶

### ç”¨æˆ·å·¥å…·

#### `rednote_get_user_info`
è·å–ç”¨æˆ·ä¿¡æ¯

**å‚æ•°:**
- `user_id` (required): ç”¨æˆ·IDæˆ–ç”¨æˆ·å

### åˆ†æå·¥å…·

#### `rednote_analyze_content`
åˆ†æå†…å®¹

**å‚æ•°:**
- `content` (required): å†…å®¹æ–‡æœ¬
- `analysis_type` (optional): åˆ†æç±»å‹ (`sentiment`, `keywords`, `category`, `all`)

## é…ç½®

é…ç½®æ–‡ä»¶ä½äº `config/` ç›®å½•ä¸‹ï¼Œæ”¯æŒä¸åŒç¯å¢ƒçš„é…ç½®:

- `default.json`: é»˜è®¤é…ç½®
- `production.json`: ç”Ÿäº§ç¯å¢ƒé…ç½®
- `development.json`: å¼€å‘ç¯å¢ƒé…ç½®

### ä¸»è¦é…ç½®é¡¹

```json
{
  "api": {
    "timeout": 15000,
    "retries": 3,
    "retryDelay": 2000
  },
  "cache": {
    "enabled": true,
    "ttl": 300000,
    "maxSize": 1000
  },
  "logging": {
    "level": "info"
  }
}
```

## MCP é›†æˆ

### åœ¨ Claude Desktop ä¸­ä½¿ç”¨

1. æ„å»ºé¡¹ç›®:
   ```bash
   npm run build
   ```

2. åœ¨ Claude Desktop é…ç½®æ–‡ä»¶ä¸­æ·»åŠ :
   ```json
   {
     "mcpServers": {
       "rednote": {
         "command": "node",
         "args": ["/path/to/rednote-mcp-server/dist/index.js"]
       }
     }
   }
   ```

### ä½¿ç”¨å…¶ä»– MCP å®¢æˆ·ç«¯

æœåŠ¡å™¨å®ç°äº†æ ‡å‡†çš„ MCP åè®®ï¼Œå¯ä»¥ä¸ä»»ä½•å…¼å®¹çš„ MCP å®¢æˆ·ç«¯é›†æˆã€‚

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ index.ts              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ server.ts             # MCP æœåŠ¡å™¨å®ç°
â”œâ”€â”€ tools/                # MCP å·¥å…·å®šä¹‰
â”‚   â”œâ”€â”€ search.ts         # æœç´¢ç›¸å…³å·¥å…·
â”‚   â”œâ”€â”€ content.ts        # å†…å®¹è·å–å·¥å…·
â”‚   â”œâ”€â”€ user.ts           # ç”¨æˆ·ä¿¡æ¯å·¥å…·
â”‚   â””â”€â”€ analysis.ts       # åˆ†æå·¥å…·
â”œâ”€â”€ api/                  # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ client.ts         # HTTP å®¢æˆ·ç«¯
â”‚   â””â”€â”€ rednote.ts        # å°çº¢ä¹¦ API å°è£…
â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ cache.ts          # ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ logger.ts         # æ—¥å¿—å·¥å…·
â”‚   â””â”€â”€ validators.ts     # å‚æ•°éªŒè¯
â””â”€â”€ types/                # ç±»å‹å®šä¹‰
    â”œâ”€â”€ api.ts            # API å“åº”ç±»å‹
    â”œâ”€â”€ mcp.ts            # MCP ç›¸å…³ç±»å‹
    â””â”€â”€ rednote.ts        # å°çº¢ä¹¦æ•°æ®ç±»å‹
```

### ä»£ç è´¨é‡

```bash
# ç±»å‹æ£€æŸ¥
npm run typecheck

# ä»£ç æ£€æŸ¥
npm run lint

# è¿è¡Œæµ‹è¯•
npm test
```

## æ³¨æ„äº‹é¡¹

1. **API é™åˆ¶**: å½“å‰å®ç°ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦é›†æˆçœŸå®çš„å°çº¢ä¹¦ API
2. **é€Ÿç‡é™åˆ¶**: è¯·æ³¨æ„ API è°ƒç”¨é¢‘ç‡é™åˆ¶ï¼Œé¿å…è¢«å¹³å°é™åˆ¶
3. **æ•°æ®åˆè§„**: ç¡®ä¿æ•°æ®è·å–å’Œä½¿ç”¨ç¬¦åˆç›¸å…³æ³•å¾‹æ³•è§„
4. **ç¼“å­˜ç­–ç•¥**: åˆç†ä½¿ç”¨ç¼“å­˜ä»¥æé«˜æ€§èƒ½å’Œå‡å°‘ API è°ƒç”¨

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issues å’Œ Pull Requestsï¼